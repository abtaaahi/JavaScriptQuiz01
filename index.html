<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            margin: 0;
            background-color: #f0f0f0;
        }
        #quiz-container {
            background: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }
        .question {
            margin: 20px 0;
            font-weight: bold;
        }
        .options {
            list-style: none;
            padding: 0;
        }
        .options li {
            margin: 10px 0;
        }
        button {
            padding: 10px 20px;
            margin-top: 20px;
        }
        #timer {
            font-size: 1.5em;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="quiz-container">
        <div id="start-container">
            <button id="start-btn">Start Test</button>
        </div>
        <div id="quiz" style="display: none;">
            <div id="timer"></div>
            <form id="quiz-form">
            </form>
            <button type="button" id="submit-btn" style="display: none;">Submit</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "What is JavaScript?",
                options: ["A programming language", "A database", "A web server", "An operating system"],
                answer: "A programming language"
            },
            {
                question: "Which method is used to select an element by ID in JavaScript?",
                options: ["getElementById", "querySelector", "getElementByClassName", "querySelectorAll"],
                answer: "getElementById"
            },
            {
                question: "What does 'const' keyword do?",
                options: ["Declares a constant variable", "Declares a variable", "Defines a function", "None of the above"],
                answer: "Declares a constant variable"
            },
            {
                question: "Which of the following is not a data type in JavaScript?",
                options: ["String", "Number", "Boolean", "Character"],
                answer: "Character"
            },
            {
                question: "How do you create an array in JavaScript?",
                options: ["var arr = [];", "var arr = {};", "var arr = ();", "var arr = <>;"],
                answer: "var arr = [];"
            },
            {
                question: "What is a closure in JavaScript?",
                options: ["A function that is immediately invoked", "A function having access to the parent scope", "An asynchronous function", "None of the above"],
                answer: "A function having access to the parent scope"
            },
            {
                question: "Which function is used to parse a string to JSON?",
                options: ["JSON.stringify()", "JSON.parse()", "parse.JSON()", "stringify.JSON()"],
                answer: "JSON.parse()"
            },
            {
                question: "Which of the following is used to declare a variable in JavaScript?",
                options: ["var", "let", "const", "All of the above"],
                answer: "All of the above"
            },
            {
                question: "Which of the following is an example of an Immediately Invoked Function Expression (IIFE)?",
                options: ["(function() {})();", "function() {}", "(() => {})()", "None of the above"],
                answer: "(function() {})();"
            },
            {
                question: "How do you handle errors in JavaScript?",
                options: ["try, catch, finally", "if, else", "for, while", "None of the above"],
                answer: "try, catch, finally"
            },
            {
                question: "Which keyword is used to handle asynchronous operations?",
                options: ["async", "await", "setTimeout", "Both async and await"],
                answer: "Both async and await"
            },
            {
                question: "What is the purpose of the 'fetch' function?",
                options: ["To make HTTP requests", "To parse JSON", "To handle events", "None of the above"],
                answer: "To make HTTP requests"
            },
            {
                question: "How do you add an event listener to an element in JavaScript?",
                options: ["element.addEventListener(event, function)", "element.on(event, function)", "element.attachEvent(event, function)", "None of the above"],
                answer: "element.addEventListener(event, function)"
            },
            {
                question: "Which method is used to remove the last element from an array?",
                options: ["pop()", "push()", "shift()", "unshift()"],
                answer: "pop()"
            },
            {
                question: "Which operator is used to spread elements of an array or object?",
                options: ["...", "++", "--", "**"],
                answer: "..."
            },
            {
                question: "What is a promise in JavaScript?",
                options: ["An object representing the eventual completion or failure of an asynchronous operation", "A function that executes asynchronously", "A method to handle events", "None of the above"],
                answer: "An object representing the eventual completion or failure of an asynchronous operation"
            },
            {
                question: "Which method is used to convert a JSON object to a string?",
                options: ["JSON.stringify()", "JSON.parse()", "toString()", "None of the above"],
                answer: "JSON.stringify()"
            },
            {
                question: "How do you declare a function in JavaScript?",
                options: ["function myFunction() {}", "def myFunction() {}", "func myFunction() {}", "None of the above"],
                answer: "function myFunction() {}"
            },
            {
                question: "Which loop is guaranteed to execute at least once?",
                options: ["do-while loop", "for loop", "while loop", "None of the above"],
                answer: "do-while loop"
            },
            {
                question: "How do you create a new object in JavaScript?",
                options: ["var obj = {}", "var obj = []", "var obj = ()", "None of the above"],
                answer: "var obj = {}"
            }
        ];

        let timeLeft = 1200; // 20 minutes in seconds
        let timerInterval;

        document.getElementById('start-btn').addEventListener('click', () => {
            document.getElementById('start-container').style.display = 'none';
            document.getElementById('quiz').style.display = 'block';
            startTimer();
            loadQuestions();
        });

        function startTimer() {
            const timerElement = document.getElementById('timer');
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                }
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `Time left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                timeLeft--;
            }, 1000);
        }

        function loadQuestions() {
            const quizForm = document.getElementById('quiz-form');
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <p>${index + 1}. ${q.question}</p>
                    <ul class="options">
                        ${q.options.map(option => `
                            <li>
                                <label>
                                    <input type="radio" name="question${index}" value="${option}">
                                    ${option}
                                </label>
                            </li>
                        `).join('')}
                    </ul>
                `;
                quizForm.appendChild(questionDiv);
            });
            document.getElementById('submit-btn').style.display = 'block';
        }

        document.getElementById('submit-btn').addEventListener('click', () => {
            if (confirm('Are you sure you want to submit the quiz?')) {
                submitQuiz();
            }
        });

        function submitQuiz() {
            clearInterval(timerInterval);
            const quizForm = document.getElementById('quiz-form');
            let score = 0;
            questions.forEach((q, index) => {
                const userAnswer = quizForm[`question${index}`].value;
                if (userAnswer === q.answer) {
                    score++;
                }
            });
            quizForm.innerHTML = `<h2>You scored ${score} out of ${questions.length}</h2>`;
            document.getElementById('submit-btn').style.display = 'none';
        }

        document.addEventListener('copy', (e) => {
            e.preventDefault();
            alert('Copying text is not allowed on this page.');
        });
    </script>
</body>
</html>